<div class="bg-gray-100 min-h-screen pt-8">
  <div class="container mx-auto px-4">

    <div class="mb-10">
      <h1 class="text-4xl font-bold text-gray-800">User Dashboard</h1>
    </div>

    <div class="mb-6">
      <h2 class="text-2xl font-semibold text-gray-700 mb-4">My Tracks</h2>
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
      <% if @followed_tracks.empty? %>
        <p class="text-gray-600">You are not following any tracks yet.</p>
      <% end %>
        <% @followed_tracks.each do |track| %>
          <div class="bg-white rounded-lg shadow-lg flex">
            <div class="flex-none w-1/3">
              <%= image_tag(track.main_image, alt: track.name, class: "object-cover h-full rounded-l-lg") if track.main_image.present? %>
            </div>
            <div class="p-4 w-2/3">
            <h3 class="font-semibold text-lg text-blue-800 mb-2">
              <%= link_to track.name, track_path(track) %>
            </h3>
            <p class="text-gray-600"><strong>Location</strong> - <%= track.location %></p>
            <p class="text-gray-600">Next Test Day <%=  %></p>
            <p class="text-gray-600">Next Race <%=  %></p>
            </div>
            </div>
        <% end %>
      </div>
    </div>

    <div class="mb-6">
      <h2 class="text-2xl font-semibold text-gray-700 mb-4">My Championships</h2>
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
        <% if @followed_championships.empty? %>
          <p class="text-gray-600">You are not following any championships yet.</p>
        <% end %>
        <% @followed_championships.each do |championship| %>
          <div class="bg-white rounded-lg shadow-lg flex">
            <div class="flex-none w-1/3">
              <%= image_tag(championship.image, alt: championship.name, class: "object-cover h-full rounded-l-lg h-38 w-38") if championship.image.present? %>
            </div>
            <div class="p-4 w-2/3">
            <h3 class="font-semibold text-lg text-blue-800 mb-2">
              <%= link_to championship.name, championship_path(championship) %>
            </h3>
              <p class="text-gray-600">Next Race: <%= championship.events.first.title %>: <%= championship.events.first.start_date.strftime("%B %d, %Y") %></p>
            </div>
          </div>
        <% end %>
      </div>
    </div>

    <div class="mb-6">
      <h2 class="text-2xl font-semibold text-gray-700 mb-4">Upcoming Events</h2>
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
        <% if @timeline_events.empty? %>
          <p class="text-gray-600">You are not following any events yet.</p>
        <% end %>
        <% @timeline_events.each do |event| %>
          <div class="bg-white rounded-lg shadow-lg flex">
            <div class="flex-none w-1/3">
            <% if event.image.attached? %>
              <%= image_tag(event.image, alt: event.title, class: "object-cover h-full rounded-l-lg h-38 w-38") %>
            <% else %>
              <%= image_tag random_default_image, alt: event.title, class: "object-cover h-full rounded-l-lg h-38 w-38" %>
            <% end %>
            </div>
            <div class="p-4 w-2/3">
            <h3 class="font-semibold text-lg text-blue-800 mb-2">
              <%= link_to event.championship.name, event_path(event) %> -
              <%= link_to event.title, event_path(event) %>
            </h3>
            <p class="text-gray-600"><strong>Date:</strong> <%= event.start_date.strftime("%B %d, %Y") %></p>
            <p class="text-gray-600">Track: <%= event.track&.name || 'No track assigned' %></p>
            <p class="text-gray-600">Championship: <%= event.championship.name %></p>
            </div>
          </div>
        <% end %>
      </div>
    </div>

  <div class="mb-6">
      <h2 class="text-2xl font-semibold text-gray-700 mb-4">My Engines</h2>
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
          <p class="text-gray-600">You don't have any engines stored yet.</p>
      </div>
  </div>


  <div class="mb-6">
      <h2 class="text-2xl font-semibold text-gray-700 mb-4">My Chassis</h2>
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
          <p class="text-gray-600">You don't have any chassis' stored yet.</p>
      </div>
  </div>
</div>