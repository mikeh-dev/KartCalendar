<% content_for :title, 'Your Engines' %>
<div class="bg-gray-100 min-h-screen">
<div class="bg-gray-100 text-center mx-auto pt-8">
  <h1 class="text-3xl font-bold mx-auto text-gray-700">Your Engines</h1>
  <% if @engines.empty? %>
    <p class="text-lg">You have no engines yet. <a href="<%= new_engine_path %>">Create one</a></p>
  <% else %>
  <div class="container mx-auto mt-4">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
    </div>
  <% end %>
</div>
</div>

<div class="bg-gray-100 pt-8">
  <div class="container mx-auto px-4">

  <div class="mb-6 ">
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
        <% if @engines.empty? %>
          <p class="text-gray-600">You have no engines added yet.</p>
        <% else %>
          <% @engines.each do |engine| %>
            <div class="bg-white rounded-lg shadow-lg flex">
              <div class="flex-none w-1/3">
                <%= image_tag(engine.engine_photos.first, alt: engine.name, class: "object-cover h-full rounded-l-lg") if engine.engine_photos.present? %>
              </div>
              <div class="p-4 w-2/3">
                <h3 class="font-semibold text-lg text-blue-800 mb-2">
                  <%= link_to engine.name, engine_path(engine) %>
                </h3>
                <p class="text-gray-600"><strong>Make:</strong> <%= engine.engine_make %></p>
                <p class="text-gray-600"><strong>Model:</strong> <%= engine.engine_model %></p>
                <p class="text-gray-600"><strong>Year:</strong> <%= engine.year_manufactured %></p>
                <p class="text-gray-600"><strong>Barrel Number:</strong> <%= engine.barrel_number %></p>
                <p class="text-gray-600"><strong>Last Rebuild Date:</strong> </p>
              </div>
              
              <div class="flex items-center justify-center">
              </div>
            </div>
          <% end %>
        <% end %>
          <%= link_to "Add Engine", new_engine_path, class: "btn btn-primary text-white" %>
      </div>
  </div>
</div>
</div>


<% if current_user.admin? %>
    <div class="md:py-6 py-6 px-4 bg-gray-100">
      <div class="pb-6 container mx-auto">
        <table class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400">
          <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
            <tr>
              <th scope="col" class="px-6 py-3">
                Engine Name
              </th>
              <th scope="col" class="px-6 py-3">
                Engine Number
              </th>
              <th scope="col" class="px-6 py-3">
                Engine Make
              </th>
              <th scope="col" class="px-6 py-3">
                View
              </th>
            </tr>
          </thead>

          <tbody>
            <% @all_engines.each do |engine| %>
            <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700">
              <td class="px-6 py-4">
                <%= engine.name %>
              </td>
              <td class="px-6 py-4">
                <%= engine.engine_number %>
              </td>
              <td class="px-6 py-4">
                <%= engine.engine_make %>
              </td>
              <td class="px-6 py-4">
                <%= link_to "View", engine_path(engine), class: "btn btn-primary text-white" %>
              </td>
            <% end %>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
<% end %>
</div>